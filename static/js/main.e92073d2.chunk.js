(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},146:function(e,t,n){e.exports=n(361)},348:function(e,t,n){},350:function(e,t,n){},359:function(e,t,n){},361:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(61),i=n.n(r),s=n(40),c=n(12),u=n(13),l=n(16),p=n(14),h=n(15),d=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e={background:"lightgray url(".concat("\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100%' height='100%'><text x='24%' y='56%' fill='dimgray' font-weight='bold' font-size='2rem' font-family='sans-serif'>NO PIC</text></svg>\"",") center/cover")};if("undefined"!==typeof this.props.photo){var t=this.props.photo.prefix+"500x500"+this.props.photo.suffix;e.background="url(".concat(t,") center/cover")}return o.a.createElement("div",{className:"Venue-container",style:e})}}]),t}(a.Component),m=n(39),f=n(19),g=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(f.Marker,{position:this.props.location,onClick:function(){return e.props.openInfo(e.props.id)}})}}]),t}(a.Component),v=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(f.InfoWindow,{position:this.props.location,options:{pixelOffset:{width:0,height:-40}},onCloseClick:function(){return e.props.closeInfo(null)}},o.a.createElement("div",{className:"VenueInfo"},o.a.createElement("h1",null,this.props.name)))}}]),t}(a.Component),b=(n(348),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={currentVenue:null},n.handleToggle=n.handleToggle.bind(Object(m.a)(Object(m.a)(n))),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleToggle",value:function(e){null===e?this.setState({currentVenue:null}):this.setState({currentVenue:this.props.venues.filter(function(t){return t.id===e})[0]})}},{key:"setLatLng",value:function(e,t){return{lat:e,lng:t}}},{key:"render",value:function(){var e=this,t=this.setLatLng(this.props.map.latitude,this.props.map.longitude);return o.a.createElement(f.GoogleMap,{defaultZoom:this.props.map.defaultZoom,center:t},o.a.createElement(f.Circle,{center:t,radius:this.props.map.excludeRadius,options:{fillColor:"gray",fillOpacity:.75,strokeColor:"red",strokeWeight:2}}),this.state.currentVenue&&o.a.createElement(v,Object.assign({},this.state.currentVenue,{closeInfo:this.handleToggle})),this.props.venues.map(function(t){return o.a.createElement(g,Object.assign({},t,{key:t.id,openInfo:e.handleToggle}))}))}}]),t}(a.Component)),O=Object(f.withScriptjs)(Object(f.withGoogleMap)(b)),j=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(O,Object.assign({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat(this.props.map.apiKey,"&libraries=geometry,drawing"),containerElement:o.a.createElement("div",{className:"BurgerMap container"}),loadingElement:o.a.createElement("div",{className:"BurgerMap loading"}),mapElement:o.a.createElement("div",{className:"BurgerMap map"})},this.props))}}]),t}(a.Component),y=n(145),E=n.n(y),k=(n(350),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).foursquare=n(352)(a.props.foursquareCredentials),a.state={venues:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.requestVenues()}},{key:"requestVenues",value:function(){var e=this;this.foursquare.venues.getVenues(Object(s.a)({ll:"".concat(this.props.location.latitude,",").concat(this.props.location.longitude)},this.props.venueRequest)).catch(function(e){console.error(e)}).then(function(t){var n=t.response.venues.filter(function(t){return t.location.distance>e.props.map.excludeRadius});Promise.all(n.map(function(t){return e.foursquare.venues.getVenuePhotos(Object(s.a)({},e.props.venuePhotoRequest,{venue_id:t.id}))})).then(function(t){n.forEach(function(e,a){return n[a]=Object(s.a)({},e,{photo:t[a].response.photos?t[a].response.photos.items[0]:void 0})}),e.setState({venues:n.sort(function(e,t){return e.location.distance-t.location.distance})})})})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("h1",null,"Venues"),o.a.createElement("img",{src:E.a,className:"App-logo",alt:"logo"})),o.a.createElement(j,{map:Object(s.a)({},this.props.location,this.props.map),venues:this.state.venues}),o.a.createElement("div",{className:"App-venues"},this.state.venues.map(function(e){return o.a.createElement(d,Object.assign({key:e.id},e))})))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(359);i.a.render(o.a.createElement(k,{location:{longitude:26.7321094,latitude:58.3780494},map:{apiKey:"AIzaSyCvsl4tyOoCTMXkMFbdRgL_6G91ac025OU",defaultZoom:13,excludeRadius:1e3},foursquareCredentials:{clientID:"EMYTVVVYZW3GSTVJQYFR5ZKJWCPS5D42G0HMYPWF0LLNWXGA",clientSecret:"CX1IT3OZP0TZ5IKLO1GVAQFLEJF3HWREXEBR50PFAMD5X4IZ"},venueRequest:{categoryId:"4bf58dd8d48988d16c941735",radius:4e3},venuePhotoRequest:{limit:1}}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[146,2,1]]]);
//# sourceMappingURL=main.e92073d2.chunk.js.map